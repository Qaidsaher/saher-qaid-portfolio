import{m as q,r as f,j as e,L as J}from"./app-B7GIP9YD.js";import{B as x}from"./button-lBTKGaex.js";import{I as n}from"./input-DMfBOjuZ.js";import{L as o}from"./label-PkYWMjNs.js";import{T as C}from"./textarea-DHc1uZpP.js";import{A as K}from"./app-layout-ilq4ZvF5.js";import{I as i}from"./input-error-DGIedPjL.js";import{M as T}from"./multi-input-BkXJfDxk.js";import{D as O}from"./date-picker-z4QOayC8.js";import{D as Q,f as _}from"./date-picker-with-range-DHqCdPHI.js";import{T as P}from"./trash-2-B_w25ps1.js";import{L as V}from"./loader-circle-fqKJqMg9.js";import"./index-DvMSoCA8.js";import"./index-C6WdG_nM.js";import"./dropdown-menu-DwmxHST0.js";import"./app-logo-icon-BJK8RBla.js";import"./briefcase-XBGAFhGx.js";import"./file-text-1-KYvN0U.js";import"./users-jEq3vhFu.js";import"./chevron-right-BTV3HPxz.js";import"./calendar-DPIQ0ns2.js";import"./chevron-left-Dz1y67kJ.js";function ye(){const{data:c,setData:d,post:M,processing:l,errors:r,reset:G}=q({title:"",short_description:"",description:"",date:"",period:"",duration:"",team_size:"",type:"",technologies:[],category:[],challenge:"",solution:"",results:"",client:"",demo_url:"",github_url:"",image:null,gallery:[{file:null,caption:""}],features:[{name:"",description:""}],process:[{title:"",description:""}]}),[g,v]=f.useState([{file:null,caption:""}]),[h,b]=f.useState([{name:"",description:""}]),[u,N]=f.useState([{title:"",description:""}]),[F,D]=f.useState(null),[y,$]=f.useState(),R=(s,t)=>{const a=t.target.files?t.target.files[0]:null;v(g.map((m,j)=>j===s?{...m,file:a}:m))},k=(s,t)=>{v(g.map((a,m)=>m===s?{...a,caption:t}:a))},L=()=>v([...g,{file:null,caption:""}]),z=s=>{g.length>1&&v(g.filter((t,a)=>a!==s))},S=(s,t,a)=>{b(h.map((m,j)=>j===s?{...m,[t]:a}:m))},A=()=>b([...h,{name:"",description:""}]),w=s=>{h.length>1&&b(h.filter((t,a)=>a!==s))},I=(s,t,a)=>{N(u.map((m,j)=>j===s?{...m,[t]:a}:m))},E=()=>N([...u,{title:"",description:""}]),B=s=>{u.length>1&&N(u.filter((t,a)=>a!==s))},U=s=>{s.preventDefault();const t=F?_(F,"yyyy-MM-dd"):"",a=y&&y.from&&y.to?`${_(y.from,"MMM yyyy")} - ${_(y.to,"MMM yyyy")}`:"",m=g.filter(p=>p.file!==null&&p.caption.trim()!==""),j=h.filter(p=>p.name.trim()!==""&&p.description.trim()!==""),H=u.filter(p=>p.title.trim()!==""&&p.description.trim()!=="");d({...c,date:t,period:a,gallery:m,features:j,process:H}),M(route("projects.store"),{forceFormData:!0,onSuccess:()=>{alert("Project created successfully!"),G(),D(null),$(void 0),v([{file:null,caption:""}]),b([{name:"",description:""}]),N([{title:"",description:""}])},onError:()=>{alert("There was an error creating the project. Please check your inputs.")}})},W=[{title:"Dashboard",href:"/admin/dashboard"},{title:"Projects",href:"/admin/projects"},{title:"Create Project",href:"/admin/projects/create"}];return e.jsxs(K,{breadcrumbs:W,children:[e.jsx(J,{title:"Create Project"}),e.jsx("div",{className:" px-4 py-8 md:px-6 md:py-10",children:e.jsxs("form",{className:"flex flex-col gap-6",onSubmit:U,encType:"multipart/form-data",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"title",children:"Title"}),e.jsx(n,{id:"title",type:"text",value:c.title,onChange:s=>d("title",s.target.value),placeholder:"Project Title",disabled:l}),e.jsx(i,{message:r.title})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"short_description",children:"Short Description"}),e.jsx(n,{id:"short_description",type:"text",value:c.short_description,onChange:s=>d("short_description",s.target.value),placeholder:"A brief summary",disabled:l}),e.jsx(i,{message:r.short_description})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{children:"Date"}),e.jsx(O,{value:F,onChange:D}),e.jsx(i,{message:r.date})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsx(o,{htmlFor:"description",children:"Description"}),e.jsx(C,{id:"description",value:c.description,onChange:s=>d("description",s.target.value),placeholder:"Detailed project description",disabled:l}),e.jsx(i,{message:r.description})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{children:"Period"}),e.jsx(Q,{onSelect:$,className:"w-full"}),e.jsx(i,{message:r.period})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"duration",children:"Duration"}),e.jsx(n,{id:"duration",type:"text",value:c.duration,onChange:s=>d("duration",s.target.value),placeholder:"e.g., 3 months",disabled:l}),e.jsx(i,{message:r.duration})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"team_size",children:"Team Size"}),e.jsx(n,{id:"team_size",type:"number",value:c.team_size,onChange:s=>d("team_size",s.target.value),placeholder:"e.g., 3",disabled:l}),e.jsx(i,{message:r.team_size})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"type",children:"Type"}),e.jsx(n,{id:"type",type:"text",value:c.type,onChange:s=>d("type",s.target.value),placeholder:"e.g., Web Application",disabled:l}),e.jsx(i,{message:r.type})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"client",children:"Client"}),e.jsx(n,{id:"client",type:"text",value:c.client,onChange:s=>d("client",s.target.value),placeholder:"Client Name",disabled:l}),e.jsx(i,{message:r.client})]})]}),e.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-2
           gap-6`,children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(T,{label:"Technologies",values:c.technologies,onChange:s=>d("technologies",s),placeholder:"Enter a technology"}),e.jsx(i,{message:r.technologies})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(T,{label:"Category",values:c.category,onChange:s=>d("category",s),placeholder:"Enter a category"}),e.jsx(i,{message:r.category})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsx(o,{htmlFor:"image",children:"Main Image"}),e.jsx(n,{id:"image",type:"file",onChange:s=>d("image",s.target.files?s.target.files[0]:null),accept:"image/*",disabled:l}),e.jsx(i,{message:r.image})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"demo_url",children:"Demo URL"}),e.jsx(n,{id:"demo_url",type:"text",value:c.demo_url,onChange:s=>d("demo_url",s.target.value),placeholder:"https://",disabled:l}),e.jsx(i,{message:r.demo_url})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"github_url",children:"GitHub URL"}),e.jsx(n,{id:"github_url",type:"text",value:c.github_url,onChange:s=>d("github_url",s.target.value),placeholder:"https://",disabled:l}),e.jsx(i,{message:r.github_url})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"challenge",children:"Challenge"}),e.jsx(C,{id:"challenge",value:c.challenge,onChange:s=>d("challenge",s.target.value),placeholder:"Project challenge...",disabled:l}),e.jsx(i,{message:r.challenge})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"solution",children:"Solution"}),e.jsx(C,{id:"solution",value:c.solution,onChange:s=>d("solution",s.target.value),placeholder:"Project solution...",disabled:l}),e.jsx(i,{message:r.solution})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"results",children:"Results"}),e.jsx(C,{id:"results",value:c.results,onChange:s=>d("results",s.target.value),placeholder:"Project results...",disabled:l}),e.jsx(i,{message:r.results})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Gallery Images"}),g.map((s,t)=>e.jsxs("div",{className:"grid grid-cols-3 gap-4 items-center",children:[e.jsxs("div",{className:"col-span-1 grid gap-2",children:[e.jsx(o,{htmlFor:`gallery-file-${t}`,children:"Image File"}),e.jsx(n,{id:`gallery-file-${t}`,type:"file",onChange:a=>R(t,a),accept:"image/*",disabled:l}),e.jsx(i,{message:r[`gallery.${t}.file`]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:`gallery-caption-${t}`,children:"Caption"}),e.jsx(n,{id:`gallery-caption-${t}`,type:"text",value:s.caption,onChange:a=>k(t,a.target.value),placeholder:"Image caption",disabled:l}),e.jsx(i,{message:r[`gallery.${t}.caption`]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(x,{type:"button",variant:"outline",onClick:()=>z(t),disabled:g.length===1||l,title:"Remove Gallery Item",children:e.jsx(P,{className:"h-4 w-4"})})})]},t)),e.jsx(x,{type:"button",onClick:L,disabled:l,className:"my-2",children:"Add Gallery Image"})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Features"}),h.map((s,t)=>e.jsxs("div",{className:"grid grid-cols-3 gap-4 items-center",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:`feature-name-${t}`,children:"Feature Name"}),e.jsx(n,{id:`feature-name-${t}`,type:"text",value:s.name,onChange:a=>S(t,"name",a.target.value),placeholder:"Feature Name",disabled:l}),e.jsx(i,{message:r[`features.${t}.name`]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:`feature-desc-${t}`,children:"Description"}),e.jsx(n,{id:`feature-desc-${t}`,type:"text",value:s.description,onChange:a=>S(t,"description",a.target.value),placeholder:"Feature Description",disabled:l}),e.jsx(i,{message:r[`features.${t}.description`]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(x,{type:"button",variant:"outline",onClick:()=>w(t),disabled:h.length===1||l,title:"Remove Feature",children:e.jsx(P,{className:"h-4 w-4"})})})]},t)),e.jsx(x,{type:"button",onClick:A,disabled:l,className:"my-2",children:"Add Feature"})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Process"}),u.map((s,t)=>e.jsxs("div",{className:"grid grid-cols-3 gap-4 items-center",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:`process-title-${t}`,children:"Title"}),e.jsx(n,{id:`process-title-${t}`,type:"text",value:s.title,onChange:a=>I(t,"title",a.target.value),placeholder:"Step Title",disabled:l}),e.jsx(i,{message:r[`process.${t}.title`]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:`process-desc-${t}`,children:"Description"}),e.jsx(n,{id:`process-desc-${t}`,type:"text",value:s.description,onChange:a=>I(t,"description",a.target.value),placeholder:"Step Description",disabled:l}),e.jsx(i,{message:r[`process.${t}.description`]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(x,{type:"button",variant:"outline",onClick:()=>B(t),disabled:u.length===1||l,title:"Remove Process Step",children:e.jsx(P,{className:"h-4 w-4"})})})]},t)),e.jsx(x,{type:"button",onClick:E,disabled:l,className:"my-2",children:"Add Process Step"})]}),e.jsx("div",{className:"cols-span-3 flex justify-end",children:e.jsxs(x,{type:"submit",className:"mt-4",disabled:l,children:[l&&e.jsx(V,{className:"h-4 w-4 animate-spin mr-2"}),"Create Project"]})})]})})]})}export{ye as default};
