import{K as b,r as o,m as S,j as e,L as T,$ as f}from"./app-CvFJx_F7.js";import{A as P}from"./app-layout-CrZNnGY6.js";import{B as n}from"./button-DVSv5keM.js";import{I as L}from"./input-DRu8dsmV.js";import{T as A,a as F,b as z}from"./tabs-Mk2skfvn.js";import{C as D,a as B,b as E,c as I,d as V,e as $}from"./card-D-bNyKoR.js";import{B as p}from"./badge-DVE7KAcV.js";import{S as k}from"./search-BBmDJG3F.js";import{F as q}from"./filter-BzPPEtV1.js";import{S as H}from"./square-pen-Bs5TuedL.js";import{T as J}from"./trash-2-DCxN9cKh.js";import"./index-NBviKt90.js";import"./dropdown-menu-BjTqZSk3.js";import"./index-DMqwLZB6.js";import"./app-logo-icon-OJP8soNu.js";import"./briefcase-Ds8aUonx.js";import"./file-text-B_uuA7fw.js";import"./users-D5HMEUSS.js";import"./chevron-right-CJuhAO9Z.js";function d(a){if(!a)return[];if(Array.isArray(a))return a;try{return JSON.parse(a)}catch{return a?[a]:[]}}function ce(){const{projects:a}=b().props,[r,j]=o.useState(""),[m,g]=o.useState("all"),[u,N]=o.useState(a),v=S({});o.useEffect(()=>{const s=a.filter(t=>{const l=t.title.toLowerCase().includes(r.toLowerCase())||t.description.toLowerCase().includes(r.toLowerCase()),i=d(t.category),c=m==="all"||i.includes(m);return l&&c});N(s)},[r,m,a]);const w=["all",...new Set(a.flatMap(s=>d(s.category)))],C=[{title:"Dashboard",href:"/admin/dashboard"},{title:"Projects",href:"/admin/projects"}],y=s=>{window.confirm("Are you sure you want to delete this project?")&&v.delete(route("admin.projects.destroy",s))};return e.jsxs(P,{breadcrumbs:C,children:[e.jsx(T,{title:"Projects"}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 md:px-6 md:py-10",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-12",children:[e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Project Portfolio"}),e.jsx("p",{className:"text-muted-foreground max-w-2xl",children:"A showcase of various projects."})]}),e.jsx("div",{className:"mt-4 sm:mt-0",children:e.jsx(f,{href:route("admin.projects.create"),children:e.jsx(n,{className:"whitespace-nowrap",children:"Create New Project"})})})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(k,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(L,{placeholder:"Search projects...",className:"pl-10",value:r,onChange:s=>j(s.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(A,{defaultValue:"all",onValueChange:g,children:e.jsx(F,{children:w.map(s=>e.jsx(z,{value:s,className:"capitalize",children:s},s))})})]})]}),u.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h3",{className:"text-xl font-medium mb-2",children:"No projects found"}),e.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search or filter criteria."})]}):e.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:u.map(s=>{const t=d(s.technologies),l=d(s.category),i=l.slice(0,2),c=l.length-i.length;return e.jsxs(D,{className:"overflow-hidden flex flex-col pt-0",children:[e.jsx("div",{className:"aspect-video relative overflow-hidden",children:e.jsx("img",{src:s.image?`/storage/${s.image}`:"/placeholder.svg",alt:s.title,className:"object-cover w-full h-full transition-transform hover:scale-105"})}),e.jsx(B,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(E,{children:s.title}),e.jsx(I,{children:s.date})]}),e.jsxs("div",{className:"flex gap-1",children:[i.map((x,h)=>e.jsx(p,{className:"capitalize",children:x},h)),c>0&&e.jsxs(p,{className:"capitalize",children:["+",c]})]})]})}),e.jsxs(V,{className:"flex-1",children:[e.jsx("p",{className:"mb-4",children:s.description}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.map((x,h)=>e.jsx(p,{variant:"secondary",children:x},h))})]}),e.jsxs($,{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx(f,{href:route("admin.projects.show",s.id),children:e.jsx(n,{variant:"default",className:"w-full",children:"View Details"})}),e.jsx(f,{href:route("admin.projects.edit",s.id),children:e.jsxs(n,{variant:"outline",className:"w-full flex items-center gap-1",children:[e.jsx(H,{size:16}),"Edit"]})}),e.jsxs(n,{variant:"destructive",onClick:()=>y(s.id),className:"w-full flex items-center gap-1",children:[e.jsx(J,{size:16}),"Delete"]})]})]},s.id)})})]})]})}export{ce as default};
