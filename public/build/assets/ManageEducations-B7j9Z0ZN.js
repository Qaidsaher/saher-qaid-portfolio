import{r as x,m as g,j as e,L as le}from"./app-CKzH4Cj_.js";import{B as A}from"./button-CDYkONff.js";import{I as d}from"./input-aMLuQWDC.js";import{L as t}from"./label-CIqYgj9G.js";import{T as q}from"./textarea-DN5bHVOd.js";import{I as i}from"./input-error-CZ0RErlw.js";import{U as ce}from"./user-layout-DnuXdbhw.js";import{C as ue}from"./confirm-model-hvIMbzd-.js";import{M as me}from"./multi-input-CMOe85pD.js";import{D as xe,f as W}from"./date-picker-with-range-DKSxQsK2.js";import{D as z}from"./date-picker-CvfhZZqS.js";import{L as F}from"./loader-circle-Dr6CiQ7R.js";import{S as I}from"./square-pen-DMHJADhM.js";import{T as M}from"./trash-_2fxMeYT.js";import"./index-BXnF3hQT.js";import"./dropdown-menu-BvLMXIU9.js";import"./index-NSoRw7ry.js";import"./sun-ClD9_w9C.js";import"./github-BrX_S-wb.js";import"./twitter-DMVZpbRo.js";import"./chevron-right-XuskSEKO.js";import"./chevron-left-DDHtEG8f.js";import"./calendar-BKkSvigi.js";function $e({educations:G,certifications:H,awards:J}){const[p,h]=x.useState("education"),[u,b]=x.useState(null),[K,v]=x.useState(!1),C=g({}),[pe,y]=x.useState(),{data:m,setData:a,post:Q,put:V,processing:k,errors:r,reset:L}=g({id:null,degree:"",institution:"",logo:null,period:"",location:"",description:"",courses:[]}),[N,P]=x.useState(!1),X=s=>{if(y(s),s&&s.from&&s.to){const D=`${W(s.from,"MMM yyyy")} - ${W(s.to,"MMM yyyy")}`;a("period",D)}},Y=s=>{s.preventDefault(),N&&m.id?V(route("admin.educations.update",m.id),{preserveState:!0,onSuccess:()=>{L(),P(!1),y(void 0)}}):Q(route("admin.educations.store"),{preserveState:!0,onSuccess:()=>{L(),y(void 0)}})},Z=s=>{a("id",s.id),a("degree",s.degree),a("institution",s.institution),a("period",s.period||""),a("location",s.location||""),a("description",s.description||""),a("courses",s.courses||[]),P(!0),h("education")},{data:j,setData:n,post:_,put:ee,processing:T,errors:l,reset:U}=g({id:null,name:"",issuer:"",date:"",url:""}),[w,R]=x.useState(!1),se=s=>{s.preventDefault(),w&&j.id?ee(route("admin.certifications.update",j.id),{preserveState:!0,onSuccess:()=>{U(),R(!1)}}):_(route("admin.certifications.store"),{preserveState:!0,onSuccess:()=>{U()}})},te=s=>{n("id",s.id),n("name",s.name),n("issuer",s.issuer),n("date",s.date||""),n("url",s.url||""),R(!0),h("certification")},{data:f,setData:o,post:ie,put:ae,processing:$,errors:c,reset:B}=g({id:null,name:"",issuer:"",date:"",description:""}),[E,O]=x.useState(!1),re=s=>{s.preventDefault(),E&&f.id?ae(route("admin.awards.update",f.id),{preserveState:!0,onSuccess:()=>{B(),O(!1)}}):ie(route("admin.awards.store"),{preserveState:!0,onSuccess:()=>{B()}})},ne=s=>{o("id",s.id),o("name",s.name),o("issuer",s.issuer),o("date",s.date||""),o("description",s.description||""),O(!0),h("award")},S=(s,D)=>{b({type:s,id:D}),v(!0)},oe=()=>{u&&(u.type==="education"?C.delete(route("admin.educations.destroy",u.id),{preserveState:!0}):u.type==="certification"?C.delete(route("admin.certifications.destroy",u.id),{preserveState:!0}):u.type==="award"&&C.delete(route("admin.awards.destroy",u.id),{preserveState:!0})),v(!1),b(null)},de=()=>{v(!1),b(null)};return e.jsxs(ce,{children:[e.jsx(le,{title:"Manage Educations"}),e.jsx(ue,{open:K,title:"Confirm Deletion",message:"Are you sure you want to delete this item? This action cannot be undone.",onConfirm:oe,onCancel:de}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Manage Educations"}),e.jsxs("div",{className:"flex border-b mb-8",children:[e.jsx("button",{onClick:()=>h("education"),className:`px-4 py-2 font-semibold ${p==="education"?"border-b-2 border-blue-500 text-blue-500":"text-gray-500"}`,children:"Education"}),e.jsx("button",{onClick:()=>h("certification"),className:`px-4 py-2 font-semibold ${p==="certification"?"border-b-2 border-blue-500 text-blue-500":"text-gray-500"}`,children:"Certifications"}),e.jsx("button",{onClick:()=>h("award"),className:`px-4 py-2 font-semibold ${p==="award"?"border-b-2 border-blue-500 text-blue-500":"text-gray-500"}`,children:"Awards"})]}),p==="education"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:N?"Edit Education":"Add Education"}),e.jsxs("form",{onSubmit:Y,encType:"multipart/form-data",className:"mb-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"degree",children:"Degree"}),e.jsx(d,{id:"degree",type:"text",value:m.degree,onChange:s=>a("degree",s.target.value),placeholder:"e.g. Bachelor of Science"}),r.degree&&e.jsx(i,{message:r.degree})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"institution",children:"Institution"}),e.jsx(d,{id:"institution",type:"text",value:m.institution,onChange:s=>a("institution",s.target.value),placeholder:"e.g. University Name"}),r.institution&&e.jsx(i,{message:r.institution})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{children:"Period"}),e.jsx(xe,{onSelect:X,className:"w-full"}),r.period&&e.jsx(i,{message:r.period})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"location",children:"Location"}),e.jsx(d,{id:"location",type:"text",value:m.location,onChange:s=>a("location",s.target.value),placeholder:"e.g. City, Country"}),r.location&&e.jsx(i,{message:r.location})]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"description",children:"Description"}),e.jsx(q,{id:"description",value:m.description,onChange:s=>a("description",s.target.value),placeholder:"Describe your education experience"}),r.description&&e.jsx(i,{message:r.description})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"logo",children:"Logo"}),e.jsx(d,{id:"logo",type:"file",onChange:s=>{s.target.files&&s.target.files[0]&&a("logo",s.target.files[0])}}),r.logo&&e.jsx(i,{message:r.logo})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Courses"}),e.jsx(me,{label:"Courses",values:m.courses,onChange:s=>a("courses",s),placeholder:"Enter a course"}),r.courses&&e.jsx(i,{message:r.courses})]})]}),e.jsxs(A,{type:"submit",disabled:k,children:[k?e.jsx(F,{className:"w-4 h-4 animate-spin mr-2"}):null,N?"Update Education":"Add Education"]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Existing Educations"}),e.jsx("ul",{className:"space-y-4",children:G.map(s=>e.jsxs("li",{className:"border p-4 rounded flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold",children:s.degree}),e.jsx("p",{children:s.institution}),s.period&&e.jsx("p",{children:s.period}),s.location&&e.jsx("p",{children:s.location})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Z(s),children:e.jsx(I,{className:"w-5 h-5 text-blue-500"})}),e.jsx("button",{onClick:()=>S("education",s.id),children:e.jsx(M,{className:"w-5 h-5 text-red-500"})})]})]},s.id))})]})]}),p==="certification"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:w?"Edit Certification":"Add Certification"}),e.jsxs("form",{onSubmit:se,className:"mb-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"cert-name",children:"Name"}),e.jsx(d,{id:"cert-name",type:"text",value:j.name,onChange:s=>n("name",s.target.value),placeholder:"Certification name"}),l.name&&e.jsx(i,{message:l.name})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"cert-issuer",children:"Issuer"}),e.jsx(d,{id:"cert-issuer",type:"text",value:j.issuer,onChange:s=>n("issuer",s.target.value),placeholder:"Certification issuer"}),l.issuer&&e.jsx(i,{message:l.issuer})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"cert-date",children:"Date"}),e.jsx(z,{id:"cert-date",value:j.date,onChange:s=>n("date",s)}),l.date&&e.jsx(i,{message:l.date})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"cert-url",children:"URL"}),e.jsx(d,{id:"cert-url",type:"url",value:j.url,onChange:s=>n("url",s.target.value),placeholder:"Certification URL"}),l.url&&e.jsx(i,{message:l.url})]})]}),e.jsxs(A,{type:"submit",disabled:T,children:[T?e.jsx(F,{className:"w-4 h-4 animate-spin mr-2"}):null,w?"Update Certification":"Add Certification"]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Existing Certifications"}),e.jsx("ul",{className:"space-y-4",children:H.map(s=>e.jsxs("li",{className:"border p-4 rounded flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold",children:s.name}),e.jsx("p",{children:s.issuer}),s.date&&e.jsx("p",{children:s.date})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>te(s),children:e.jsx(I,{className:"w-5 h-5 text-blue-500"})}),e.jsx("button",{onClick:()=>S("certification",s.id),children:e.jsx(M,{className:"w-5 h-5 text-red-500"})})]})]},s.id))})]})]}),p==="award"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:E?"Edit Award":"Add Award"}),e.jsxs("form",{onSubmit:re,className:"mb-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"award-name",children:"Name"}),e.jsx(d,{id:"award-name",type:"text",value:f.name,onChange:s=>o("name",s.target.value),placeholder:"Award name"}),c.name&&e.jsx(i,{message:c.name})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"award-issuer",children:"Issuer"}),e.jsx(d,{id:"award-issuer",type:"text",value:f.issuer,onChange:s=>o("issuer",s.target.value),placeholder:"Award issuer"}),c.issuer&&e.jsx(i,{message:c.issuer})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"award-date",children:"Date"}),e.jsx(z,{id:"award-date",value:f.date,onChange:s=>o("date",s)}),c.date&&e.jsx(i,{message:c.date})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"award-description",children:"Description"}),e.jsx(q,{id:"award-description",value:f.description,onChange:s=>o("description",s.target.value),placeholder:"Award description"}),c.description&&e.jsx(i,{message:c.description})]})]}),e.jsxs(A,{type:"submit",disabled:$,children:[$?e.jsx(F,{className:"w-4 h-4 animate-spin mr-2"}):null,E?"Update Award":"Add Award"]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Existing Awards"}),e.jsx("ul",{className:"space-y-4",children:J.map(s=>e.jsxs("li",{className:"border p-4 rounded flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold",children:s.name}),e.jsx("p",{children:s.issuer}),s.date&&e.jsx("p",{children:s.date})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>ne(s),children:e.jsx(I,{className:"w-5 h-5 text-blue-500"})}),e.jsx("button",{onClick:()=>S("award",s.id),children:e.jsx(M,{className:"w-5 h-5 text-red-500"})})]})]},s.id))})]})]})]})]})}export{$e as default};
