import{r as x,m as g,j as e,L as le}from"./app-B7GIP9YD.js";import{B as D}from"./button-lBTKGaex.js";import{I as o}from"./input-DMfBOjuZ.js";import{L as r}from"./label-PkYWMjNs.js";import{T as q}from"./textarea-DHc1uZpP.js";import{I as i}from"./input-error-DGIedPjL.js";import{A as ce}from"./app-layout-ilq4ZvF5.js";import{C as me}from"./confirm-model-TJeyul0v.js";import{M as ue}from"./multi-input-BkXJfDxk.js";import{D as xe,f as W}from"./date-picker-with-range-DHqCdPHI.js";import{D as z}from"./date-picker-z4QOayC8.js";import{L as F}from"./loader-circle-fqKJqMg9.js";import{S as I}from"./square-pen-D93PmbSx.js";import{T as M}from"./trash-DKM7GubE.js";import"./index-DvMSoCA8.js";import"./index-C6WdG_nM.js";import"./dropdown-menu-DwmxHST0.js";import"./app-logo-icon-BJK8RBla.js";import"./briefcase-XBGAFhGx.js";import"./file-text-1-KYvN0U.js";import"./users-jEq3vhFu.js";import"./chevron-right-BTV3HPxz.js";import"./chevron-left-Dz1y67kJ.js";import"./calendar-DPIQ0ns2.js";function Be({educations:G,certifications:H,awards:J}){const[p,h]=x.useState("education"),[m,b]=x.useState(null),[K,v]=x.useState(!1),y=g({}),[pe,C]=x.useState(),{data:u,setData:t,post:Q,put:V,processing:k,errors:a,reset:L}=g({id:null,degree:"",institution:"",logo:null,period:"",location:"",description:"",courses:[]}),[N,P]=x.useState(!1),X=s=>{if(C(s),s&&s.from&&s.to){const A=`${W(s.from,"MMM yyyy")} - ${W(s.to,"MMM yyyy")}`;t("period",A)}},Y=s=>{s.preventDefault(),N&&u.id?V(route("admin.educations.update",u.id),{preserveState:!0,onSuccess:()=>{L(),P(!1),C(void 0)}}):Q(route("admin.educations.store"),{preserveState:!0,onSuccess:()=>{L(),C(void 0)}})},Z=s=>{t("id",s.id),t("degree",s.degree),t("institution",s.institution),t("period",s.period||""),t("location",s.location||""),t("description",s.description||""),t("courses",s.courses||[]),P(!0),h("education")},{data:j,setData:d,post:_,put:ee,processing:T,errors:l,reset:R}=g({id:null,name:"",issuer:"",date:"",url:""}),[w,U]=x.useState(!1),se=s=>{s.preventDefault(),w&&j.id?ee(route("admin.certifications.update",j.id),{preserveState:!0,onSuccess:()=>{R(),U(!1)}}):_(route("admin.certifications.store"),{preserveState:!0,onSuccess:()=>{R()}})},ie=s=>{d("id",s.id),d("name",s.name),d("issuer",s.issuer),d("date",s.date||""),d("url",s.url||""),U(!0),h("certification")},{data:f,setData:n,post:te,put:ae,processing:$,errors:c,reset:B}=g({id:null,name:"",issuer:"",date:"",description:""}),[E,O]=x.useState(!1),re=s=>{s.preventDefault(),E&&f.id?ae(route("admin.awards.update",f.id),{preserveState:!0,onSuccess:()=>{B(),O(!1)}}):te(route("admin.awards.store"),{preserveState:!0,onSuccess:()=>{B()}})},de=s=>{n("id",s.id),n("name",s.name),n("issuer",s.issuer),n("date",s.date||""),n("description",s.description||""),O(!0),h("award")},S=(s,A)=>{b({type:s,id:A}),v(!0)},ne=()=>{m&&(m.type==="education"?y.delete(route("admin.educations.destroy",m.id),{preserveState:!0}):m.type==="certification"?y.delete(route("admin.certifications.destroy",m.id),{preserveState:!0}):m.type==="award"&&y.delete(route("admin.awards.destroy",m.id),{preserveState:!0})),v(!1),b(null)},oe=()=>{v(!1),b(null)};return e.jsxs(ce,{children:[e.jsx(le,{title:"Manage Educations"}),e.jsx(me,{open:K,title:"Confirm Deletion",message:"Are you sure you want to delete this item? This action cannot be undone.",onConfirm:ne,onCancel:oe}),e.jsxs("div",{className:" px-8 py-8",children:[e.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Manage Educations"}),e.jsxs("div",{className:"flex border-b mb-8",children:[e.jsx("button",{onClick:()=>h("education"),className:`px-4 py-2 font-semibold ${p==="education"?"border-b-2 border-blue-500 text-blue-500":"text-gray-500"}`,children:"Education"}),e.jsx("button",{onClick:()=>h("certification"),className:`px-4 py-2 font-semibold ${p==="certification"?"border-b-2 border-blue-500 text-blue-500":"text-gray-500"}`,children:"Certifications"}),e.jsx("button",{onClick:()=>h("award"),className:`px-4 py-2 font-semibold ${p==="award"?"border-b-2 border-blue-500 text-blue-500":"text-gray-500"}`,children:"Awards"})]}),p==="education"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:N?"Edit Education":"Add Education"}),e.jsxs("form",{onSubmit:Y,encType:"multipart/form-data",className:"mb-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"degree",children:"Degree"}),e.jsx(o,{id:"degree",type:"text",value:u.degree,onChange:s=>t("degree",s.target.value),placeholder:"e.g. Bachelor of Science"}),a.degree&&e.jsx(i,{message:a.degree})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"institution",children:"Institution"}),e.jsx(o,{id:"institution",type:"text",value:u.institution,onChange:s=>t("institution",s.target.value),placeholder:"e.g. University Name"}),a.institution&&e.jsx(i,{message:a.institution})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{children:"Period"}),e.jsx(xe,{onSelect:X,className:"w-full"}),a.period&&e.jsx(i,{message:a.period})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"location",children:"Location"}),e.jsx(o,{id:"location",type:"text",value:u.location,onChange:s=>t("location",s.target.value),placeholder:"e.g. City, Country"}),a.location&&e.jsx(i,{message:a.location})]})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"description",children:"Description"}),e.jsx(q,{id:"description",value:u.description,onChange:s=>t("description",s.target.value),placeholder:"Describe your education experience"}),a.description&&e.jsx(i,{message:a.description})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"logo",children:"Logo"}),e.jsx(o,{id:"logo",type:"file",onChange:s=>{s.target.files&&s.target.files[0]&&t("logo",s.target.files[0])}}),a.logo&&e.jsx(i,{message:a.logo})]}),e.jsxs("div",{children:[e.jsx(ue,{label:"Courses",values:u.courses,onChange:s=>t("courses",s),placeholder:"Enter a course"}),a.courses&&e.jsx(i,{message:a.courses})]})]}),e.jsx("div",{className:"flex span-cols2 justify-end",children:e.jsxs(D,{type:"submit",disabled:k,children:[k?e.jsx(F,{className:"w-4 h-4 animate-spin mr-2"}):null,N?"Update Education":"Add Education"]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Existing Educations"}),e.jsx("ul",{className:"space-y-4",children:G.map(s=>e.jsxs("li",{className:"border p-4 rounded flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold",children:s.degree}),e.jsx("p",{children:s.institution}),s.period&&e.jsx("p",{children:s.period}),s.location&&e.jsx("p",{children:s.location})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>Z(s),children:e.jsx(I,{className:"w-5 h-5 text-blue-500"})}),e.jsx("button",{onClick:()=>S("education",s.id),children:e.jsx(M,{className:"w-5 h-5 text-red-500"})})]})]},s.id))})]})]}),p==="certification"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:w?"Edit Certification":"Add Certification"}),e.jsxs("form",{onSubmit:se,className:"mb-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"cert-name",children:"Name"}),e.jsx(o,{id:"cert-name",type:"text",value:j.name,onChange:s=>d("name",s.target.value),placeholder:"Certification name"}),l.name&&e.jsx(i,{message:l.name})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"cert-issuer",children:"Issuer"}),e.jsx(o,{id:"cert-issuer",type:"text",value:j.issuer,onChange:s=>d("issuer",s.target.value),placeholder:"Certification issuer"}),l.issuer&&e.jsx(i,{message:l.issuer})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"cert-date",children:"Date"}),e.jsx(z,{id:"cert-date",value:j.date,onChange:s=>d("date",s)}),l.date&&e.jsx(i,{message:l.date})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"cert-url",children:"URL"}),e.jsx(o,{id:"cert-url",type:"url",value:j.url,onChange:s=>d("url",s.target.value),placeholder:"Certification URL"}),l.url&&e.jsx(i,{message:l.url})]})]}),e.jsx("div",{className:"flex span-cols2 justify-end",children:e.jsxs(D,{type:"submit",disabled:T,children:[T?e.jsx(F,{className:"w-4 h-4 animate-spin mr-2"}):null,w?"Update Certification":"Add Certification"]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Existing Certifications"}),e.jsx("ul",{className:"space-y-4",children:H.map(s=>e.jsxs("li",{className:"border p-4 rounded flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold",children:s.name}),e.jsx("p",{children:s.issuer}),s.date&&e.jsx("p",{children:s.date})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>ie(s),children:e.jsx(I,{className:"w-5 h-5 text-blue-500"})}),e.jsx("button",{onClick:()=>S("certification",s.id),children:e.jsx(M,{className:"w-5 h-5 text-red-500"})})]})]},s.id))})]})]}),p==="award"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:E?"Edit Award":"Add Award"}),e.jsxs("form",{onSubmit:re,className:"mb-6 grid grid-cols-1 md:grid-cols-2 gap-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"award-name",children:"Name"}),e.jsx(o,{id:"award-name",type:"text",value:f.name,onChange:s=>n("name",s.target.value),placeholder:"Award name"}),c.name&&e.jsx(i,{message:c.name})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"award-issuer",children:"Issuer"}),e.jsx(o,{id:"award-issuer",type:"text",value:f.issuer,onChange:s=>n("issuer",s.target.value),placeholder:"Award issuer"}),c.issuer&&e.jsx(i,{message:c.issuer})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 ",children:e.jsxs("div",{children:[e.jsx(r,{htmlFor:"award-date ",className:"block mb-1",children:"Date"}),e.jsx(z,{id:"award-date",value:f.date,onChange:s=>n("date",s)}),c.date&&e.jsx(i,{message:c.date})]})}),e.jsxs("div",{className:"col-span-2",children:[e.jsx(r,{htmlFor:"award-description",children:"Description"}),e.jsx(q,{id:"award-description",value:f.description,onChange:s=>n("description",s.target.value),placeholder:"Award description"}),c.description&&e.jsx(i,{message:c.description})]}),e.jsx("div",{className:"flex span-cols2 justify-end",children:e.jsxs(D,{type:"submit",disabled:$,children:[$?e.jsx(F,{className:"w-4 h-4 animate-spin mr-2"}):null,E?"Update Award":"Add Award"]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Existing Awards"}),e.jsx("ul",{className:"space-y-4",children:J.map(s=>e.jsxs("li",{className:"border p-4 rounded flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold",children:s.name}),e.jsx("p",{children:s.issuer}),s.date&&e.jsx("p",{children:s.date})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>de(s),children:e.jsx(I,{className:"w-5 h-5 text-blue-500"})}),e.jsx("button",{onClick:()=>S("award",s.id),children:e.jsx(M,{className:"w-5 h-5 text-red-500"})})]})]},s.id))})]})]})]})]})}export{Be as default};
