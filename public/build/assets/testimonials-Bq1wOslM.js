import{K as E,r as p,m as w,j as e,L as F}from"./app-DYPug_a-.js";import{C as S,a as L,d as k}from"./card-ThjcyRhA.js";import{B as I}from"./badge-DRtRGvWK.js";import{I as A}from"./image-Cy7hPcRr.js";import{A as B}from"./app-layout-BJmhExMJ.js";import{B as n}from"./button-BXDxqs2B.js";import{I as x}from"./input-CroCtyWE.js";import{L as o}from"./label-COWwxkM1.js";import{T as D}from"./textarea-Dh-RyDQA.js";import{I as m}from"./input-error-ZEx6eBSU.js";import{P}from"./plus-Cvze60VN.js";import{S as z}from"./square-pen-Bo93DfAE.js";import{T as R}from"./trash-c0ksmwks.js";import"./index-BgIqseQo.js";import"./dropdown-menu-C0fFgGRp.js";import"./index-BzWl5Gly.js";import"./app-logo-icon-BHFAXejl.js";import"./briefcase-D841sCEr.js";import"./file-text-CJnfqGxN.js";import"./users-LyfknCJg.js";import"./chevron-right-CDyNysXM.js";function ie(){const{testimonials:u}=E().props,j=[{title:"Dashboard",href:"/admin/dashboard"},{title:"Testimonials",href:"/admin/testimonials"}],[h,r]=p.useState(!1),[i,d]=p.useState(null),{data:l,setData:t,post:f,patch:g,reset:c,errors:a}=w({name:"",role:"",company:"",avatar:"",text:""}),v=s=>{s.preventDefault(),i?g(`/admin/testimonials/${i.id}`,{onSuccess:()=>{c(),d(null),r(!1)}}):f("/admin/testimonials",{onSuccess:()=>{c(),r(!1)}})},y=s=>{d(s),t(s),r(!0)},b=()=>{c(),d(null),r(!0)},N=()=>{c(),d(null),r(!1)},C=s=>{confirm("Are you sure you want to delete this testimonial?")&&fetch(`/admin/testimonials/${s}`,{method:"DELETE"}).then(()=>{})},T=u;return e.jsxs(B,{breadcrumbs:j,children:[e.jsx(F,{title:"Testimonials"}),e.jsxs("div",{className:"container mx-auto px-8 py-12 space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(I,{variant:"outline",className:"mb-2",children:"Testimonials"}),e.jsx("h1",{className:"text-3xl font-bold",children:"Client Feedback"}),e.jsx("p",{className:"text-muted-foreground",children:"What our clients say about us"})]}),!h&&e.jsxs(n,{onClick:b,className:"inline-flex items-center gap-2",children:[e.jsx(P,{size:16})," Create Testimonial"]})]}),h&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:i?"Edit Testimonial":"Create Testimonial"}),e.jsxs("form",{onSubmit:v,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"name",children:"Name"}),e.jsx(x,{id:"name",type:"text",value:l.name,onChange:s=>t("name",s.target.value)}),a.name&&e.jsx(m,{message:a.name})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"role",children:"Role"}),e.jsx(x,{id:"role",type:"text",value:l.role,onChange:s=>t("role",s.target.value)}),a.role&&e.jsx(m,{message:a.role})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"company",children:"Company"}),e.jsx(x,{id:"company",type:"text",value:l.company,onChange:s=>t("company",s.target.value)}),a.company&&e.jsx(m,{message:a.company})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"avatar",children:"Avatar URL"}),e.jsx(x,{id:"avatar",type:"text",value:l.avatar,onChange:s=>t("avatar",s.target.value)}),a.avatar&&e.jsx(m,{message:a.avatar})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(o,{htmlFor:"text",children:"Testimonial Text"}),e.jsx(D,{id:"text",value:l.text,onChange:s=>t("text",s.target.value)}),a.text&&e.jsx(m,{message:a.text})]}),e.jsxs("div",{className:"md:col-span-2 flex justify-end gap-4",children:[i&&e.jsx(n,{type:"button",onClick:N,variant:"outline",children:"Cancel"}),e.jsx(n,{type:"submit",children:i?"Update":"Create"})]})]})]}),e.jsx("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3 grid-cols-1",children:T.map(s=>e.jsxs(S,{className:"border border-border/40 bg-background hover:shadow-lg transition-all duration-300 py-2",children:[e.jsx(L,{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-muted",children:e.jsx(A,{src:s.avatar||"/placeholder.svg",alt:s.name,width:48,height:48,className:"object-cover w-full h-full"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg",children:s.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.role,", ",s.company]})]})]})}),e.jsx(k,{children:e.jsx("p",{className:"italic text-muted-foreground",children:s.text})}),e.jsxs("div",{className:"flex justify-end gap-2 px-4 py-1",children:[e.jsx(n,{onClick:()=>y(s),variant:"outline",children:e.jsx(z,{size:16,className:"text-blue-500"})}),e.jsx(n,{onClick:()=>C(s.id),variant:"outline",children:e.jsx(R,{size:16,className:"text-red-500"})})]})]},s.id))})]})]})}export{ie as default};
