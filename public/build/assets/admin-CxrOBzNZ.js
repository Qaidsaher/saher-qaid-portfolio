import{r as j,m as v,j as e,L as B}from"./app-CvFJx_F7.js";import{B as N}from"./button-DVSv5keM.js";import{I as l}from"./input-DRu8dsmV.js";import{L as i}from"./label-BOGrb1H7.js";import{T as S}from"./textarea-D9d5Xnif.js";import{I as a}from"./input-error-DdJtVbvX.js";import{U as O}from"./user-layout-DEhTxv9b.js";import{C as V}from"./confirm-model-DGJqKa2O.js";import{T}from"./trash-CAmLtFhB.js";import"./index-DMqwLZB6.js";import"./dropdown-menu-BjTqZSk3.js";import"./index-NBviKt90.js";import"./sun-BszNkBvR.js";import"./github-D1PJX23O.js";import"./twitter-Bb_P9RXj.js";function te({testimonials:C,services:k}){const[c,u]=j.useState("testimonials"),[n,p]=j.useState(null),[E,h]=j.useState(!1),g=v({}),{data:m,setData:o,post:D,processing:b,errors:t,reset:F}=v({name:"",role:"",company:"",avatar:null,text:""}),I=s=>{s.target.files&&s.target.files[0]&&o("avatar",s.target.files[0])},w=s=>{s.preventDefault(),D(route("admin.testimonials.store"),{preserveState:!0,onSuccess:()=>{F()}})},{data:d,setData:x,post:L,processing:f,errors:r,reset:M}=v({title:"",description:"",icon:"",link:""}),A=s=>{s.preventDefault(),L(route("admin.services.store"),{preserveState:!0,onSuccess:()=>{M()}})},y=(s,$)=>{p({type:s,id:$}),h(!0)},R=()=>{n&&(n.type==="testimonial"?g.delete(route("admin.testimonials.destroy",n.id),{preserveState:!0}):n.type==="service"&&g.delete(route("admin.services.destroy",n.id),{preserveState:!0})),h(!1),p(null)},U=()=>{h(!1),p(null)};return e.jsxs(O,{children:[e.jsx(B,{title:"Manage Testimonials & Services"}),e.jsx(V,{open:E,title:"Confirm Deletion",message:"Are you sure you want to delete this item? This action cannot be undone.",onConfirm:R,onCancel:U}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Manage Testimonials & Services"}),e.jsxs("div",{className:"flex border-b mb-8",children:[e.jsx("button",{onClick:()=>u("testimonials"),className:`px-4 py-2 font-semibold ${c==="testimonials"?"border-b-2 border-blue-500 text-blue-500":"text-gray-500"}`,children:"Testimonials"}),e.jsx("button",{onClick:()=>u("services"),className:`px-4 py-2 font-semibold ${c==="services"?"border-b-2 border-blue-500 text-blue-500":"text-gray-500"}`,children:"Services"})]}),c==="testimonials"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Testimonials"}),e.jsxs("form",{onSubmit:w,encType:"multipart/form-data",className:"mb-6",children:[e.jsxs("div",{className:"grid gap-2 mb-4",children:[e.jsx(i,{htmlFor:"testimonial-name",children:"Name"}),e.jsx(l,{id:"testimonial-name",type:"text",value:m.name,onChange:s=>o("name",s.target.value),placeholder:"Enter name"}),t.name&&e.jsx(a,{message:t.name})]}),e.jsxs("div",{className:"grid gap-2 mb-4",children:[e.jsx(i,{htmlFor:"testimonial-role",children:"Role"}),e.jsx(l,{id:"testimonial-role",type:"text",value:m.role,onChange:s=>o("role",s.target.value),placeholder:"Enter role"}),t.role&&e.jsx(a,{message:t.role})]}),e.jsxs("div",{className:"grid gap-2 mb-4",children:[e.jsx(i,{htmlFor:"testimonial-company",children:"Company"}),e.jsx(l,{id:"testimonial-company",type:"text",value:m.company,onChange:s=>o("company",s.target.value),placeholder:"Enter company"}),t.company&&e.jsx(a,{message:t.company})]}),e.jsxs("div",{className:"grid gap-2 mb-4",children:[e.jsx(i,{htmlFor:"testimonial-avatar",children:"Avatar"}),e.jsx(l,{id:"testimonial-avatar",type:"file",onChange:I}),t.avatar&&e.jsx(a,{message:t.avatar})]}),e.jsxs("div",{className:"grid gap-2 mb-4",children:[e.jsx(i,{htmlFor:"testimonial-text",children:"Testimonial Text"}),e.jsx(S,{id:"testimonial-text",value:m.text,onChange:s=>o("text",s.target.value),placeholder:"Enter testimonial text"}),t.text&&e.jsx(a,{message:t.text})]}),e.jsx(N,{type:"submit",disabled:b,children:b?"Saving...":"Add Testimonial"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Existing Testimonials"}),e.jsx("ul",{className:"space-y-4",children:C.map(s=>e.jsxs("li",{className:"border p-4 rounded flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[s.avatar&&e.jsx("img",{src:`/storage/${s.avatar}`,alt:s.name,className:"w-16 h-16 rounded-full object-cover"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold",children:s.name}),s.role&&e.jsx("p",{children:s.role}),s.company&&e.jsx("p",{children:s.company}),e.jsx("p",{className:"mt-2",children:s.text})]})]}),e.jsx("button",{onClick:()=>y("testimonial",s.id),children:e.jsx(T,{className:"w-5 h-5 text-red-500"})})]},s.id))})]})]}),c==="services"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Services"}),e.jsxs("form",{onSubmit:A,className:"mb-6",children:[e.jsxs("div",{className:"grid gap-2 mb-4",children:[e.jsx(i,{htmlFor:"service-title",children:"Title"}),e.jsx(l,{id:"service-title",type:"text",value:d.title,onChange:s=>x("title",s.target.value),placeholder:"Enter service title"}),r.title&&e.jsx(a,{message:r.title})]}),e.jsxs("div",{className:"grid gap-2 mb-4",children:[e.jsx(i,{htmlFor:"service-description",children:"Description"}),e.jsx(S,{id:"service-description",value:d.description,onChange:s=>x("description",s.target.value),placeholder:"Enter service description"}),r.description&&e.jsx(a,{message:r.description})]}),e.jsxs("div",{className:"grid gap-2 mb-4",children:[e.jsx(i,{htmlFor:"service-icon",children:"Icon"}),e.jsx(l,{id:"service-icon",type:"text",value:d.icon,onChange:s=>x("icon",s.target.value),placeholder:"Enter icon class or URL"}),r.icon&&e.jsx(a,{message:r.icon})]}),e.jsxs("div",{className:"grid gap-2 mb-4",children:[e.jsx(i,{htmlFor:"service-link",children:"Link"}),e.jsx(l,{id:"service-link",type:"text",value:d.link,onChange:s=>x("link",s.target.value),placeholder:"Enter service link"}),r.link&&e.jsx(a,{message:r.link})]}),e.jsx(N,{type:"submit",disabled:f,children:f?"Saving...":"Add Service"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Existing Services"}),e.jsx("ul",{className:"space-y-4",children:k.map(s=>e.jsxs("li",{className:"border p-4 rounded flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold",children:s.title}),e.jsx("p",{children:s.description}),s.icon&&e.jsxs("p",{children:["Icon: ",s.icon]}),s.link&&e.jsx("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 underline",children:"Visit"})]}),e.jsx("button",{onClick:()=>y("service",s.id),children:e.jsx(T,{className:"w-5 h-5 text-red-500"})})]},s.id))})]})]})]})]})}export{te as default};
